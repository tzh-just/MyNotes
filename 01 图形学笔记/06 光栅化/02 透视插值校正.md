在相机空间下，经过透视投影后的物体看起来是近大远小的。但是我们计算重心坐标时却是在屏幕空间计算，所以计算的结果不会考虑到近大远小。
对于硬件，无论采用什么投影方式，都是在顶点着色器中输出一个顶点坐标，统一都会做透视除法。
设点 P 为
$$
P (x,y,z) = αA(x1,y1,z1)+βB(x2,y2,z2)
$$
其中
$$
α+β=1,α=1-n,β-n
$$
该点在屏幕上映射为
$$
P'(x',y',z') = α'A'+β'B'
$$
$$
α'+β'=1, α'=1-m,β'=m
$$
根据三角形相似原理
$$
α:β = (α'/z1): (β'/z2)
$$
推广到三维
$$
α:β:γ = (α'/z1): (β'/z2):(γ'/z3)
$$
![](Pasted%20image%2020230720204912.png)

而我们知道顶点变换前的 z 值就是变换后的 w 值，硬件会自动对顶点着色器输出的顶点做透视除法，以及对片元的重心坐标做透视插值校正。