Early-z 是在光栅化和片元着色之间提前进行 z-test，避免片元着色后才发现该片元是不可见的，减少不必要的性能开销。但 early-z 无法对透明物体后的片元进行颜色混合或者透明测试，因为此时片元还没有着色，无法获知透明度和颜色，因此只能一视同仁地丢弃。
因此当
- 开启 alpha test
- Discard
- 关闭深度测试
- 手动写入深度值或者开启 alpha blend 等操作时，GPU 会关闭 early-z，否则会导致深度值地错误。
时，early-z 就会失效。

Early-z 对物体的渲染顺序也有要求，最好情况是按到摄像头由近及远地渲染，最坏情况是由远及近地渲染，此时 early-z 没有任何作用。如果在渲染前对物体顺序进行排序，当场景过于复杂时，频繁地排序会使 CPU 地性能开销过大。
Early-z 剔除的最小单位是 pixel quad。在像素着色器中，会将相邻的四个像素作为不可分隔的一组，送入同一个 SM 内 4 个不同的 Core。
Early-z 会导致深度冲突，深度测试的提前与写入之间存在着片元着色等步骤，导致在这个期间，会有别的深度再次通过 early-z。因此在写入深度前应再次进行深度的读取和测试。