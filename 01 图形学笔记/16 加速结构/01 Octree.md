Octree 是一种八叉树结构，每个节点包含一个边界体（如 AABB）和八个子节点。在构建 Octree 时，首先将场景的根节点划分为八个子节点。接着，将每个三角面逐个检测并将其放入对应的子节点中。这个过程会不断重复，直到构建出完整的八叉树。为了优化 Octree，可以在求交时按照八个子节点与光线起点的距离（平方）进行排序。这样，可以优先检测距离近的节点，从而减少不必要的求交测试。
Octree 构建时根据根节点大小，等分割空间，然后每个子包围盒都要与根节点的包围盒中的三角形做碰撞测试，将包围住的三角面添加进节点。对于横跨多个子包围盒的三角形，则重复添加。